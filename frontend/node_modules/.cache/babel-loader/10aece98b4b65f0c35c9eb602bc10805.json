{"ast":null,"code":"var _jsxFileName = \"/Users/judyyip/Downloads/Website/Marketing Campaign/frontend/src/context/AuthContext.js\";\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { authService } from '../api/authService';\nconst AuthContext = createContext();\nexport const AuthProvider = ({\n  children\n}) => {\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const loadUser = async () => {\n      try {\n        const userData = await authService.getCurrentUser();\n        setUser(userData);\n      } catch {\n        setUser(null);\n      } finally {\n        setLoading(false);\n      }\n    };\n    loadUser();\n  }, []);\n  const login = async credentials => {\n    const userData = await authService.login(credentials);\n    setUser(userData);\n    return userData;\n  };\n  const register = async userData => {\n    const newUser = await authService.register(userData);\n    setUser(newUser);\n    return newUser;\n  };\n  const logout = () => {\n    authService.logout();\n    setUser(null);\n  };\n  const value = {\n    user,\n    loading,\n    login,\n    register,\n    logout,\n    isAuthenticated: !!user\n  };\n  return /*#__PURE__*/React.createElement(AuthContext.Provider, {\n    value: value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 10\n    }\n  }, children);\n};\nexport const useAuth = () => {\n  const context = useContext(AuthContext);\n  if (!context) throw new Error('useAuth must be used within an AuthProvider');\n  return context;\n};","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","authService","AuthContext","AuthProvider","children","user","setUser","loading","setLoading","loadUser","userData","getCurrentUser","login","credentials","register","newUser","logout","value","isAuthenticated","createElement","Provider","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","useAuth","context","Error"],"sources":["/Users/judyyip/Downloads/Website/Marketing Campaign/frontend/src/context/AuthContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\nimport { authService } from '../api/authService';\n\nconst AuthContext = createContext();\n\nexport const AuthProvider = ({ children }) => {\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const loadUser = async () => {\n      try {\n        const userData = await authService.getCurrentUser();\n        setUser(userData);\n      } catch {\n        setUser(null);\n      } finally {\n        setLoading(false);\n      }\n    };\n    loadUser();\n  }, []);\n\n  const login = async credentials => {\n    const userData = await authService.login(credentials);\n    setUser(userData);\n    return userData;\n  };\n\n  const register = async userData => {\n    const newUser = await authService.register(userData);\n    setUser(newUser);\n    return newUser;\n  };\n\n  const logout = () => {\n    authService.logout();\n    setUser(null);\n  };\n\n  const value = { user, loading, login, register, logout, isAuthenticated: !!user };\n\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\n};\n\nexport const useAuth = () => {\n  const context = useContext(AuthContext);\n  if (!context) throw new Error('useAuth must be used within an AuthProvider');\n  return context;\n}; "],"mappings":";AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC7E,SAASC,WAAW,QAAQ,oBAAoB;AAEhD,MAAMC,WAAW,GAAGL,aAAa,CAAC,CAAC;AAEnC,OAAO,MAAMM,YAAY,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAC5C,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGP,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACQ,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC;EAE5CC,SAAS,CAAC,MAAM;IACd,MAAMS,QAAQ,GAAG,MAAAA,CAAA,KAAY;MAC3B,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMT,WAAW,CAACU,cAAc,CAAC,CAAC;QACnDL,OAAO,CAACI,QAAQ,CAAC;MACnB,CAAC,CAAC,MAAM;QACNJ,OAAO,CAAC,IAAI,CAAC;MACf,CAAC,SAAS;QACRE,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IACDC,QAAQ,CAAC,CAAC;EACZ,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMG,KAAK,GAAG,MAAMC,WAAW,IAAI;IACjC,MAAMH,QAAQ,GAAG,MAAMT,WAAW,CAACW,KAAK,CAACC,WAAW,CAAC;IACrDP,OAAO,CAACI,QAAQ,CAAC;IACjB,OAAOA,QAAQ;EACjB,CAAC;EAED,MAAMI,QAAQ,GAAG,MAAMJ,QAAQ,IAAI;IACjC,MAAMK,OAAO,GAAG,MAAMd,WAAW,CAACa,QAAQ,CAACJ,QAAQ,CAAC;IACpDJ,OAAO,CAACS,OAAO,CAAC;IAChB,OAAOA,OAAO;EAChB,CAAC;EAED,MAAMC,MAAM,GAAGA,CAAA,KAAM;IACnBf,WAAW,CAACe,MAAM,CAAC,CAAC;IACpBV,OAAO,CAAC,IAAI,CAAC;EACf,CAAC;EAED,MAAMW,KAAK,GAAG;IAAEZ,IAAI;IAAEE,OAAO;IAAEK,KAAK;IAAEE,QAAQ;IAAEE,MAAM;IAAEE,eAAe,EAAE,CAAC,CAACb;EAAK,CAAC;EAEjF,oBAAOT,KAAA,CAAAuB,aAAA,CAACjB,WAAW,CAACkB,QAAQ;IAACH,KAAK,EAAEA,KAAM;IAAAI,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAEtB,QAA+B,CAAC;AAC9E,CAAC;AAED,OAAO,MAAMuB,OAAO,GAAGA,CAAA,KAAM;EAC3B,MAAMC,OAAO,GAAG9B,UAAU,CAACI,WAAW,CAAC;EACvC,IAAI,CAAC0B,OAAO,EAAE,MAAM,IAAIC,KAAK,CAAC,6CAA6C,CAAC;EAC5E,OAAOD,OAAO;AAChB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}
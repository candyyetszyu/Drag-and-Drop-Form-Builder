{"ast":null,"code":"import{useState}from'react';import{apiUtils}from'../api/apiConfig';export const useFormSubmission=()=>{const[submitted,setSubmitted]=useState(false);const[submissionData,setSubmissionData]=useState(null);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);// Submit form data to the API\nconst submitForm=async(formId,formData)=>{try{setLoading(true);setError(null);console.log(`Submitting form ${formId} with data:`,formData);// Use apiUtils to submit the form\nconst response=await apiUtils.post(`/forms/${formId}/submit`,formData);setSubmitted(true);setSubmissionData(response);return response;}catch(err){var _err$response,_err$response$data;console.error('Form submission error:',err);const errorMessage=((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Failed to submit form. Please try again.';setError(errorMessage);throw err;}finally{setLoading(false);}};// Reset submission state\nconst resetSubmission=()=>{setSubmitted(false);setSubmissionData(null);setError(null);};return{submitForm,resetSubmission,submitted,submissionData,loading,error};};","map":{"version":3,"names":["useState","apiUtils","useFormSubmission","submitted","setSubmitted","submissionData","setSubmissionData","loading","setLoading","error","setError","submitForm","formId","formData","console","log","response","post","err","_err$response","_err$response$data","errorMessage","data","message","resetSubmission"],"sources":["/Users/judyyip/Downloads/Website/Marketing Campaign/frontend/src/hooks/useFormSubmission.js"],"sourcesContent":["import { useState } from 'react';\nimport { apiUtils } from '../api/apiConfig';\n\nexport const useFormSubmission = () => {\n  const [submitted, setSubmitted] = useState(false);\n  const [submissionData, setSubmissionData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  // Submit form data to the API\n  const submitForm = async (formId, formData) => {\n    try {\n      setLoading(true);\n      setError(null);\n      console.log(`Submitting form ${formId} with data:`, formData);\n\n      // Use apiUtils to submit the form\n      const response = await apiUtils.post(`/forms/${formId}/submit`, formData);\n      setSubmitted(true);\n      setSubmissionData(response);\n      return response;\n    } catch (err) {\n      console.error('Form submission error:', err);\n      const errorMessage = err.response?.data?.message || 'Failed to submit form. Please try again.';\n      setError(errorMessage);\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Reset submission state\n  const resetSubmission = () => {\n    setSubmitted(false);\n    setSubmissionData(null);\n    setError(null);\n  };\n\n  return {\n    submitForm,\n    resetSubmission,\n    submitted,\n    submissionData,\n    loading,\n    error,\n  };\n};\n"],"mappings":"AAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,OAASC,QAAQ,KAAQ,kBAAkB,CAE3C,MAAO,MAAM,CAAAC,iBAAiB,CAAGA,CAAA,GAAM,CACrC,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGJ,QAAQ,CAAC,KAAK,CAAC,CACjD,KAAM,CAACK,cAAc,CAAEC,iBAAiB,CAAC,CAAGN,QAAQ,CAAC,IAAI,CAAC,CAC1D,KAAM,CAACO,OAAO,CAAEC,UAAU,CAAC,CAAGR,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACS,KAAK,CAAEC,QAAQ,CAAC,CAAGV,QAAQ,CAAC,IAAI,CAAC,CAExC;AACA,KAAM,CAAAW,UAAU,CAAG,KAAAA,CAAOC,MAAM,CAAEC,QAAQ,GAAK,CAC7C,GAAI,CACFL,UAAU,CAAC,IAAI,CAAC,CAChBE,QAAQ,CAAC,IAAI,CAAC,CACdI,OAAO,CAACC,GAAG,CAAC,mBAAmBH,MAAM,aAAa,CAAEC,QAAQ,CAAC,CAE7D;AACA,KAAM,CAAAG,QAAQ,CAAG,KAAM,CAAAf,QAAQ,CAACgB,IAAI,CAAC,UAAUL,MAAM,SAAS,CAAEC,QAAQ,CAAC,CACzET,YAAY,CAAC,IAAI,CAAC,CAClBE,iBAAiB,CAACU,QAAQ,CAAC,CAC3B,MAAO,CAAAA,QAAQ,CACjB,CAAE,MAAOE,GAAG,CAAE,KAAAC,aAAA,CAAAC,kBAAA,CACZN,OAAO,CAACL,KAAK,CAAC,wBAAwB,CAAES,GAAG,CAAC,CAC5C,KAAM,CAAAG,YAAY,CAAG,EAAAF,aAAA,CAAAD,GAAG,CAACF,QAAQ,UAAAG,aAAA,kBAAAC,kBAAA,CAAZD,aAAA,CAAcG,IAAI,UAAAF,kBAAA,iBAAlBA,kBAAA,CAAoBG,OAAO,GAAI,0CAA0C,CAC9Fb,QAAQ,CAACW,YAAY,CAAC,CACtB,KAAM,CAAAH,GAAG,CACX,CAAC,OAAS,CACRV,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED;AACA,KAAM,CAAAgB,eAAe,CAAGA,CAAA,GAAM,CAC5BpB,YAAY,CAAC,KAAK,CAAC,CACnBE,iBAAiB,CAAC,IAAI,CAAC,CACvBI,QAAQ,CAAC,IAAI,CAAC,CAChB,CAAC,CAED,MAAO,CACLC,UAAU,CACVa,eAAe,CACfrB,SAAS,CACTE,cAAc,CACdE,OAAO,CACPE,KACF,CAAC,CACH,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
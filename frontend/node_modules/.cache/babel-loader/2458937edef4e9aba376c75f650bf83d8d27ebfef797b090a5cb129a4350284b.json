{"ast":null,"code":"var _jsxFileName = \"/Users/judyyip/Downloads/Website/Marketing Campaign/frontend/src/components/builder/DraggableField.js\",\n  _s = $RefreshSig$();\nimport React, { useRef } from 'react';\nimport { useDrag, useDrop } from 'react-dnd';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DraggableField = ({\n  field,\n  index,\n  onSelect,\n  onDelete,\n  onMove,\n  children\n}) => {\n  _s();\n  const ref = useRef(null);\n\n  // Set up drag source\n  const [{\n    isDragging\n  }, drag] = useDrag({\n    type: 'FORM_FIELD',\n    item: {\n      id: field.id,\n      index\n    },\n    collect: monitor => ({\n      isDragging: !!monitor.isDragging()\n    })\n  });\n\n  // Set up drop target for reordering\n  const [{\n    handlerId\n  }, drop] = useDrop({\n    accept: 'FORM_FIELD',\n    collect: monitor => ({\n      handlerId: monitor.getHandlerId()\n    }),\n    hover: (item, monitor) => {\n      if (!ref.current) {\n        return;\n      }\n      const dragIndex = item.index;\n      const hoverIndex = index;\n\n      // Don't replace items with themselves\n      if (dragIndex === hoverIndex) {\n        return;\n      }\n\n      // Determine rectangle on screen\n      const hoverBoundingRect = ref.current.getBoundingClientRect();\n\n      // Get vertical middle\n      const hoverMiddleY = (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2;\n\n      // Determine mouse position\n      const clientOffset = monitor.getClientOffset();\n\n      // Get pixels to the top\n      const hoverClientY = clientOffset.y - hoverBoundingRect.top;\n\n      // Only perform the move when the mouse has crossed half of the items height\n      // When dragging downwards, only move when the cursor is below 50%\n      // When dragging upwards, only move when the cursor is above 50%\n\n      // Dragging downwards\n      if (dragIndex < hoverIndex && hoverClientY < hoverMiddleY) {\n        return;\n      }\n\n      // Dragging upwards\n      if (dragIndex > hoverIndex && hoverClientY > hoverMiddleY) {\n        return;\n      }\n\n      // Time to actually perform the action\n      onMove(dragIndex, hoverIndex);\n\n      // Note: we're mutating the monitor item here!\n      // Generally it's better to avoid mutations,\n      // but it's good here for the sake of performance\n      // to avoid expensive index searches.\n      item.index = hoverIndex;\n    }\n  });\n\n  // Initialize drag and drop refs\n  drag(drop(ref));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: ref,\n    className: `\n        padding-responsive \n        margin-responsive \n        field-container \n        border \n        border-dashed \n        cursor-pointer\n      `,\n    style: {\n      opacity: isDragging ? 0.5 : 1,\n      backgroundColor: isDragging ? '#f3f4f6' : 'transparent'\n    },\n    onClick: () => onSelect(field),\n    \"data-handler-id\": handlerId,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"drag-handle\",\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginBottom: '0.5rem',\n        borderBottom: '1px solid #e5e7eb',\n        paddingBottom: '0.5rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontWeight: 'bold',\n          color: '#6b7280'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            marginRight: '0.5rem',\n            cursor: 'move'\n          },\n          children: \"\\u27F0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this), field.type.charAt(0).toUpperCase() + field.type.slice(1), \" Field\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"btn btn-secondary\",\n        style: {\n          backgroundColor: '#f87171',\n          color: 'white',\n          padding: '0.25rem 0.5rem'\n        },\n        onClick: e => {\n          e.stopPropagation();\n          onDelete(field.id);\n        },\n        children: \"\\u2715\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), children]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n};\n_s(DraggableField, \"3C8kwZ2GhyXxEidFeZmgdcYRGD0=\", false, function () {\n  return [useDrag, useDrop];\n});\n_c = DraggableField;\nexport default DraggableField;\nvar _c;\n$RefreshReg$(_c, \"DraggableField\");","map":{"version":3,"names":["React","useRef","useDrag","useDrop","jsxDEV","_jsxDEV","DraggableField","field","index","onSelect","onDelete","onMove","children","_s","ref","isDragging","drag","type","item","id","collect","monitor","handlerId","drop","accept","getHandlerId","hover","current","dragIndex","hoverIndex","hoverBoundingRect","getBoundingClientRect","hoverMiddleY","bottom","top","clientOffset","getClientOffset","hoverClientY","y","className","style","opacity","backgroundColor","onClick","display","justifyContent","alignItems","marginBottom","borderBottom","paddingBottom","fontWeight","color","marginRight","cursor","fileName","_jsxFileName","lineNumber","columnNumber","charAt","toUpperCase","slice","padding","e","stopPropagation","_c","$RefreshReg$"],"sources":["/Users/judyyip/Downloads/Website/Marketing Campaign/frontend/src/components/builder/DraggableField.js"],"sourcesContent":["import React, { useRef } from 'react';\nimport { useDrag, useDrop } from 'react-dnd';\n\nconst DraggableField = ({ field, index, onSelect, onDelete, onMove, children }) => {\n  const ref = useRef(null);\n  \n  // Set up drag source\n  const [{ isDragging }, drag] = useDrag({\n    type: 'FORM_FIELD',\n    item: { id: field.id, index },\n    collect: (monitor) => ({\n      isDragging: !!monitor.isDragging(),\n    }),\n  });\n  \n  // Set up drop target for reordering\n  const [{ handlerId }, drop] = useDrop({\n    accept: 'FORM_FIELD',\n    collect: (monitor) => ({\n      handlerId: monitor.getHandlerId(),\n    }),\n    hover: (item, monitor) => {\n      if (!ref.current) {\n        return;\n      }\n      \n      const dragIndex = item.index;\n      const hoverIndex = index;\n      \n      // Don't replace items with themselves\n      if (dragIndex === hoverIndex) {\n        return;\n      }\n      \n      // Determine rectangle on screen\n      const hoverBoundingRect = ref.current.getBoundingClientRect();\n      \n      // Get vertical middle\n      const hoverMiddleY = (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2;\n      \n      // Determine mouse position\n      const clientOffset = monitor.getClientOffset();\n      \n      // Get pixels to the top\n      const hoverClientY = clientOffset.y - hoverBoundingRect.top;\n      \n      // Only perform the move when the mouse has crossed half of the items height\n      // When dragging downwards, only move when the cursor is below 50%\n      // When dragging upwards, only move when the cursor is above 50%\n      \n      // Dragging downwards\n      if (dragIndex < hoverIndex && hoverClientY < hoverMiddleY) {\n        return;\n      }\n      \n      // Dragging upwards\n      if (dragIndex > hoverIndex && hoverClientY > hoverMiddleY) {\n        return;\n      }\n      \n      // Time to actually perform the action\n      onMove(dragIndex, hoverIndex);\n      \n      // Note: we're mutating the monitor item here!\n      // Generally it's better to avoid mutations,\n      // but it's good here for the sake of performance\n      // to avoid expensive index searches.\n      item.index = hoverIndex;\n    },\n  });\n  \n  // Initialize drag and drop refs\n  drag(drop(ref));\n  \n  return (\n    <div \n      ref={ref}\n      className={`\n        padding-responsive \n        margin-responsive \n        field-container \n        border \n        border-dashed \n        cursor-pointer\n      `}\n      style={{\n        opacity: isDragging ? 0.5 : 1,\n        backgroundColor: isDragging ? '#f3f4f6' : 'transparent',\n      }}\n      onClick={() => onSelect(field)}\n      data-handler-id={handlerId}\n    >\n      <div className=\"drag-handle\" style={{ \n        display: 'flex', \n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginBottom: '0.5rem',\n        borderBottom: '1px solid #e5e7eb',\n        paddingBottom: '0.5rem'\n      }}>\n        <div style={{ fontWeight: 'bold', color: '#6b7280' }}>\n          <span style={{ marginRight: '0.5rem', cursor: 'move' }}>⟰</span>\n          {field.type.charAt(0).toUpperCase() + field.type.slice(1)} Field\n        </div>\n        <button\n          type=\"button\"\n          className=\"btn btn-secondary\"\n          style={{ backgroundColor: '#f87171', color: 'white', padding: '0.25rem 0.5rem' }}\n          onClick={(e) => {\n            e.stopPropagation();\n            onDelete(field.id);\n          }}\n        >\n          ✕\n        </button>\n      </div>\n      \n      {children}\n    </div>\n  );\n};\n\nexport default DraggableField;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
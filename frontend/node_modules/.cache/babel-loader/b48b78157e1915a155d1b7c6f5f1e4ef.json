{"ast":null,"code":"import React,{createContext,useContext,useState,useEffect}from'react';import{authService}from'../api/authService';const AuthContext=createContext();export const AuthProvider=_ref=>{let{children}=_ref;const[user,setUser]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{const loadUser=async()=>{try{const userData=await authService.getCurrentUser();setUser(userData);}catch{setUser(null);}finally{setLoading(false);}};loadUser();},[]);const login=async credentials=>{const userData=await authService.login(credentials);setUser(userData);return userData;};const register=async userData=>{const newUser=await authService.register(userData);setUser(newUser);return newUser;};const logout=()=>{authService.logout();setUser(null);};const value={user,loading,login,register,logout,isAuthenticated:!!user};return/*#__PURE__*/React.createElement(AuthContext.Provider,{value:value},children);};export const useAuth=()=>{const context=useContext(AuthContext);if(!context)throw new Error('useAuth must be used within an AuthProvider');return context;};","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","authService","AuthContext","AuthProvider","_ref","children","user","setUser","loading","setLoading","loadUser","userData","getCurrentUser","login","credentials","register","newUser","logout","value","isAuthenticated","createElement","Provider","useAuth","context","Error"],"sources":["/Users/judyyip/Downloads/Website/Marketing Campaign/frontend/src/context/AuthContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\nimport { authService } from '../api/authService';\n\nconst AuthContext = createContext();\n\nexport const AuthProvider = ({ children }) => {\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const loadUser = async () => {\n      try {\n        const userData = await authService.getCurrentUser();\n        setUser(userData);\n      } catch {\n        setUser(null);\n      } finally {\n        setLoading(false);\n      }\n    };\n    loadUser();\n  }, []);\n\n  const login = async credentials => {\n    const userData = await authService.login(credentials);\n    setUser(userData);\n    return userData;\n  };\n\n  const register = async userData => {\n    const newUser = await authService.register(userData);\n    setUser(newUser);\n    return newUser;\n  };\n\n  const logout = () => {\n    authService.logout();\n    setUser(null);\n  };\n\n  const value = { user, loading, login, register, logout, isAuthenticated: !!user };\n\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\n};\n\nexport const useAuth = () => {\n  const context = useContext(AuthContext);\n  if (!context) throw new Error('useAuth must be used within an AuthProvider');\n  return context;\n}; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,UAAU,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC7E,OAASC,WAAW,KAAQ,oBAAoB,CAEhD,KAAM,CAAAC,WAAW,CAAGL,aAAa,CAAC,CAAC,CAEnC,MAAO,MAAM,CAAAM,YAAY,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACvC,KAAM,CAACE,IAAI,CAAEC,OAAO,CAAC,CAAGR,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAACS,OAAO,CAAEC,UAAU,CAAC,CAAGV,QAAQ,CAAC,IAAI,CAAC,CAE5CC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAU,QAAQ,CAAG,KAAAA,CAAA,GAAY,CAC3B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAV,WAAW,CAACW,cAAc,CAAC,CAAC,CACnDL,OAAO,CAACI,QAAQ,CAAC,CACnB,CAAE,KAAM,CACNJ,OAAO,CAAC,IAAI,CAAC,CACf,CAAC,OAAS,CACRE,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CACDC,QAAQ,CAAC,CAAC,CACZ,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAG,KAAK,CAAG,KAAM,CAAAC,WAAW,EAAI,CACjC,KAAM,CAAAH,QAAQ,CAAG,KAAM,CAAAV,WAAW,CAACY,KAAK,CAACC,WAAW,CAAC,CACrDP,OAAO,CAACI,QAAQ,CAAC,CACjB,MAAO,CAAAA,QAAQ,CACjB,CAAC,CAED,KAAM,CAAAI,QAAQ,CAAG,KAAM,CAAAJ,QAAQ,EAAI,CACjC,KAAM,CAAAK,OAAO,CAAG,KAAM,CAAAf,WAAW,CAACc,QAAQ,CAACJ,QAAQ,CAAC,CACpDJ,OAAO,CAACS,OAAO,CAAC,CAChB,MAAO,CAAAA,OAAO,CAChB,CAAC,CAED,KAAM,CAAAC,MAAM,CAAGA,CAAA,GAAM,CACnBhB,WAAW,CAACgB,MAAM,CAAC,CAAC,CACpBV,OAAO,CAAC,IAAI,CAAC,CACf,CAAC,CAED,KAAM,CAAAW,KAAK,CAAG,CAAEZ,IAAI,CAAEE,OAAO,CAAEK,KAAK,CAAEE,QAAQ,CAAEE,MAAM,CAAEE,eAAe,CAAE,CAAC,CAACb,IAAK,CAAC,CAEjF,mBAAOV,KAAA,CAAAwB,aAAA,CAAClB,WAAW,CAACmB,QAAQ,EAACH,KAAK,CAAEA,KAAM,EAAEb,QAA+B,CAAC,CAC9E,CAAC,CAED,MAAO,MAAM,CAAAiB,OAAO,CAAGA,CAAA,GAAM,CAC3B,KAAM,CAAAC,OAAO,CAAGzB,UAAU,CAACI,WAAW,CAAC,CACvC,GAAI,CAACqB,OAAO,CAAE,KAAM,IAAI,CAAAC,KAAK,CAAC,6CAA6C,CAAC,CAC5E,MAAO,CAAAD,OAAO,CAChB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}
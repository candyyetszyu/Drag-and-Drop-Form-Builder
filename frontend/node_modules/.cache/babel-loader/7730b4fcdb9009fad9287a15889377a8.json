{"ast":null,"code":"// Custom hook for making API requests with loading and error states\nimport{useState,useCallback}from'react';import{api}from'../api/apiConfig';// Remove the unused BASE_URL constant\n// const BASE_URL = 'http://localhost:3001';\nexport const useApi=()=>{const[loading,setLoading]=useState(false);// Loading state\nconst[error,setError]=useState(null);// Error state\n// Generic request handler\nconst request=useCallback(async function(method,url){let data=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;try{setLoading(true);setError(null);const response=await api[method](url,data);return response.data;}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||err.message);throw err;}finally{setLoading(false);}},[]);return{loading,error,get:url=>request('get',url),post:(url,data)=>request('post',url,data),put:(url,data)=>request('put',url,data),delete:url=>request('delete',url)};};","map":{"version":3,"names":["useState","useCallback","api","useApi","loading","setLoading","error","setError","request","method","url","data","arguments","length","undefined","response","err","_err$response","_err$response$data","message","get","post","put","delete"],"sources":["/Users/judyyip/Downloads/Website/Marketing Campaign/frontend/src/hooks/useApi.js"],"sourcesContent":["// Custom hook for making API requests with loading and error states\nimport { useState, useCallback } from 'react';\nimport { api } from '../api/apiConfig';\n\n// Remove the unused BASE_URL constant\n// const BASE_URL = 'http://localhost:3001';\n\nexport const useApi = () => {\n  const [loading, setLoading] = useState(false); // Loading state\n  const [error, setError] = useState(null); // Error state\n\n  // Generic request handler\n  const request = useCallback(async (method, url, data = null) => {\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await api[method](url, data);\n      return response.data;\n    } catch (err) {\n      setError(err.response?.data?.message || err.message);\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  return {\n    loading,\n    error,\n    get: (url) => request('get', url),\n    post: (url, data) => request('post', url, data),\n    put: (url, data) => request('put', url, data),\n    delete: (url) => request('delete', url),\n  };\n};"],"mappings":"AAAA;AACA,OAASA,QAAQ,CAAEC,WAAW,KAAQ,OAAO,CAC7C,OAASC,GAAG,KAAQ,kBAAkB,CAEtC;AACA;AAEA,MAAO,MAAM,CAAAC,MAAM,CAAGA,CAAA,GAAM,CAC1B,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGL,QAAQ,CAAC,KAAK,CAAC,CAAE;AAC/C,KAAM,CAACM,KAAK,CAAEC,QAAQ,CAAC,CAAGP,QAAQ,CAAC,IAAI,CAAC,CAAE;AAE1C;AACA,KAAM,CAAAQ,OAAO,CAAGP,WAAW,CAAC,eAAOQ,MAAM,CAAEC,GAAG,CAAkB,IAAhB,CAAAC,IAAI,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,IAAI,CACzD,GAAI,CACFP,UAAU,CAAC,IAAI,CAAC,CAChBE,QAAQ,CAAC,IAAI,CAAC,CACd,KAAM,CAAAQ,QAAQ,CAAG,KAAM,CAAAb,GAAG,CAACO,MAAM,CAAC,CAACC,GAAG,CAAEC,IAAI,CAAC,CAC7C,MAAO,CAAAI,QAAQ,CAACJ,IAAI,CACtB,CAAE,MAAOK,GAAG,CAAE,KAAAC,aAAA,CAAAC,kBAAA,CACZX,QAAQ,CAAC,EAAAU,aAAA,CAAAD,GAAG,CAACD,QAAQ,UAAAE,aAAA,kBAAAC,kBAAA,CAAZD,aAAA,CAAcN,IAAI,UAAAO,kBAAA,iBAAlBA,kBAAA,CAAoBC,OAAO,GAAIH,GAAG,CAACG,OAAO,CAAC,CACpD,KAAM,CAAAH,GAAG,CACX,CAAC,OAAS,CACRX,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,MAAO,CACLD,OAAO,CACPE,KAAK,CACLc,GAAG,CAAGV,GAAG,EAAKF,OAAO,CAAC,KAAK,CAAEE,GAAG,CAAC,CACjCW,IAAI,CAAEA,CAACX,GAAG,CAAEC,IAAI,GAAKH,OAAO,CAAC,MAAM,CAAEE,GAAG,CAAEC,IAAI,CAAC,CAC/CW,GAAG,CAAEA,CAACZ,GAAG,CAAEC,IAAI,GAAKH,OAAO,CAAC,KAAK,CAAEE,GAAG,CAAEC,IAAI,CAAC,CAC7CY,MAAM,CAAGb,GAAG,EAAKF,OAAO,CAAC,QAAQ,CAAEE,GAAG,CACxC,CAAC,CACH,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}